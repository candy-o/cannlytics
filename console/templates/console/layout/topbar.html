<!doctype html>
<html>
<!--
  Top Navigation | Cannlytics Console
  Author: Keegan Skeate <keegan@cannlytics.com>
  Created: 11/27/2020
  Updated: 5/11/2021
-->
{% load static icon %}

  <!-- Header -->
  <header
    id="console-header"
    class="navbar navbar-expand flex-md-nowrap justify-content-between border-bottom px-0 py-0"
  >

    <!-- Logo -->
    <div class="navbar-brand d-flex d-md-flex align-items-center col-md-3 col-lg-2 me-0 ps-2 pe-0 px-md-3">
      <a
        href="/"
        class="d-flex"
        data-bs-toggle="tooltip"
        data-bs-placement="bottom"
        title="Dashboard"
      >
        <img
          src="{% static 'console/images/logos/cannlytics_calyx_detailed.svg' %}"
          style="height:30px;"
          class="d-md-none pe-2"
          id="organizationLogo"
        >
        <div class="d-none d-md-flex">
          <img
            src="{% static 'console/images/logos/cannlytics_logo_with_text_light.svg' %}"
            style="height:30px;"
            class="light-only pe-2"
            id="organizationPhoto"
          >
          <img
            src="{% static 'console/images/logos/cannlytics_logo_with_text_dark.svg' %}"
            style="height:30px;"
            class="dark-only pe-2"
            id="organizationPhoto"
          >
        </div>
      </a>

      <!-- Website Link -->
      {% comment %} <a
        class="nav-link text-secondary navbar-toggle d-flex px-2"
        href="https://get.cannlytics.com"
        target="_blank"
        data-bs-toggle="tooltip"
        data-bs-placement="bottom"
        title="Website"
      >
        {% icon "globe" width="21px" height="21px" %}
      </a> {% endcomment %}

    <!-- Organization Choice -->
    {% if organizations %}
      {% include "console/components/menus/organization_menu.html" %}
    {% endif %}

    <!-- Menu toggle -->
    <!-- FIXME: Show sidebar toggle on small screens
      data-bs-toggle="collapse"
      data-bs-target="#sidebarMenu"
      aria-controls="sidebarMenu"
      aria-expanded="false"
      aria-label="Toggle navigation"
      d-md-none

      onclick="cannlytics.ui.showSidebar();"
    -->
    <a
      id="navbar-menu-button"
      class="nav-link navbar-toggle d-flex d-md-none px-2 py-0"
      href="#"
      role="button"
      data-bs-toggle="collapse"
      data-bs-target="#sidebar-menu"
      aria-controls="sidebar-menu"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      {% icon "menu" class="text-secondary" width="21px" height="21px" %}
    </a>

    </div>



    <!-- Search -->
    <!-- col-12 col-lg-auto me-lg-3 d-flex align-items-center -->
    {% comment %} <form
      class="d-flex flex-grow-1 nav-search-form ps-sm-2"
      role="search"
    >
      <input
        id="navigation-search"
        class="nav-search-input form-control py-1 my-1"
        placeholder="Search"
        aria-label="Search"
        type="text"
        name="q"
        spellcheck="false"
      >
      <button
        class="nav-search-button btn btn-default p-0"
        style="transform:translateX(-32px);width:0;"
        type="submit"
        onclick="cannlytics.app.search();"
      >
        {% icon "search" height="16" width="16" class="text-secondary" %}
      </button>
    </form> {% endcomment %}

    <!-- Options -->
    <ul id="console-options" class="navbar-nav float-end">      

      <!-- Theme switch -->
      <!-- Optional: Better moon icon -->
      <button
        class="btn px-2"
        onClick="cannlytics.theme.changeTheme();"
        data-bs-toggle="tooltip"
        data-bs-placement="right"
        title="Toggle the theme"
      >
        {% icon "sun" class="light-only text-secondary" %}
        {% icon "moon" class="dark-only text-secondary" %}
      </button>

      <!-- Help Menu -->
      {% include "console/components/menus/help_menu.html" with
        version=version
      %}

      <!-- User Menu -->
      {% include "console/components/menus/user_menu.html" with
        user=user
      %}

    </ul>

  </header>

</html>
