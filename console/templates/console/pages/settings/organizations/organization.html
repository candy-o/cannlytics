<!doctype html>
<html>
<!--
  Organization Page | Cannlytics Console
  Author: Keegan Skeate <keegan@cannlytics.com>
  Created: 6/8/2021
  Updated: 6/19/2021
-->
{% load icon %}
<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">

  <!-- Header -->
  <!-- Optional: Add settings base breadcrumb -->
  {% include "console/components/links/breadcrumbs.html" with
    base_page='Organization settings'
    base_page_url='/settings/organizations'
    current_page=unit
  %}

  <!-- TODO: Save button -->

  <!-- TODO: Organization form -->  
  {% include "console/pages/settings/organizations/organization_form.html" with
    organization_context=organization_context
  %}

  <!-- TODO: Data Model Management -->
  <div class="my-5 px-3">
    <h1 class="fs-5 lh-base text-dark mb-0 mt-5">Data Models</h1>
    <h2 class="fs-6 lh-base text-secondary mb-3">
      <small>Data models are the primary objects for conceptualizing your workflow. In a nutshell,
      data models are groups of fields and dictate the data points collected.</small>
    </h2>

    <!-- TODO: Accordian of data models -->
    <!-- Each data model has editable
      abbreviation
      current_count
      id_schema
      singular
      path
      title
      description
      image_path
      placeholder
        action, height, image, message, title, url
      breadcrumbs
       title, url, active
      fields
        key, label, type, class
    -->

  </div>


  <!-- TODO: Traceability Management -->
  <div class="my-5 px-3">
    <h1 class="fs-5 lh-base text-dark mb-0 mt-5">Traceability</h1>
    <h2 class="fs-6 lh-base text-secondary mb-3">
      <small>Data models are the primary objects for conceptualizing your workflow. In a nutshell,
      data models are groups of fields and dictate the data points collected.</small>
    </h2>

    <!-- Traceability provider -->
    <div class="col-md-4">
      <label for="inputTraceabilityProvider" class="form-label">Traceability Provider</label>
      <select id="inputTraceabilityProvider" class="form-select">
        {% comment %} <option >Select</option> {% endcomment %}
        {% comment %} <option>Leaf Data Systems</option> {% endcomment %}
        <option selected>Metrc</option>
      </select>
    </div>

    <!-- Traceability endpoints -->

  </div>

  <!-- Visibility (public / private choice) -->
  <div class="my-5 px-3">
    <h1 class="fs-5 lh-base text-dark mb-0 mt-5">Visibility</h1>
    <h2 class="fs-6 lh-base text-secondary mb-3">
      <small>Decide whether or not to list your organization for discovery.</small>
    </h2>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="public" id="public-choice" value="true">
      <label class="form-check-label" for="public-choice">
        Public {% icon "globe" width="16px" height="16px" %}<br>
        <small class="text-secondary">Appears in search results.</small>
      </label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="public" id="private-choice" value="false" checked>
      <label class="form-check-label" for="private-choice">
        Private {% icon "lock" width="16px" height="16px" %}<br>
        <small class="text-secondary">Only visible to you.</small>
      </label>
    </div>
  </div>

  <!-- TODO: Danger zone (delete organization) -->
  <!-- TODO: Only show if user is the owner -->
  {% if unit and unit in user.owner %}
    {% include "console/components/forms/delete_option.html" with
      id=unit
      model="organizations"
      model_singular="organization"
    %}
  {% endif %}

  <!-- Other options -->
  {% comment %} <h2 class="h6 mt-5 mb-0">Other account options</h2>
  <div class="list-group col-md-6 py-3">
    {% for item in account.options %}   
      <a
        href="{{ item.url }}"
        class="list-group-item list-group-item-action d-flex justify-content-between align-items-center text-dark"
        aria-current="true"
      >
        {{ item.title }}
        {% icon "chevron-right" height="18px" width="18px" %}
      </a>
    {% endfor %}
  </div> {% endcomment %}

</main>

<!-- JavaScript -->
{% block console_js %}
  <script>
    cannlytics.settings.initializeOrganizationsForm('{{ unit }}');
  </script>
{% endblock console_js %}

</html>
